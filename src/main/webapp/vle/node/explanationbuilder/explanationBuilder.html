<html>
	<head>
		<script type="text/javascript">
		
			var explanationBuilder;
		
			function loadContentAfterScriptsLoad(node) {
	        	explanationBuilder = new ExplanationBuilder(node, node.view);
	        	explanationBuilder.render();
	        };
			
	        function loadContent(node) {
	        	scriptloader.loadScripts('explanationbuilder', document, node.id, eventManager);
	        };

	        /*
	         * This is called when the student clicks on the save button below in the body
	         */
	        function save() {
		         explanationBuilder.save();
	        };
		</script>
	</head>

	<body>
		
		<header>
			<div class="stepHeader"><span id="stepType">Explanation Builder</span></div>
		</header>
		<div id="previousWorkDiv"></div>
		<div id="main" role="main" class="assessmentItem">
			<div id='prompt' class='prompt'>
				<a id='showResponse' class="submit disabled">Ready to Explain!</a>
				<div id='promptLabel' class='promptLabel'></div>
			</div>
			<div id='response' class='response'>
    		    <div class='responseLabel' id='instructionsText'></div>
            	<div class='responseWrapper'><textarea id='responseText' class='responseText'></textarea></div>
            	<div class='saveWrapper'>
            		<span id='saveConfirm'></span><a id='save' class='submit'>SAVE RESPONSE</a><a id='cancel' class='disabled'>Undo Changes</a>
            	</div>
  		    </div>
	  		<div id='explanationSpace'>	
				<div id='explanation'>
		  			<div id='explanationIdeas'>
		  		    	<div id='target'>
		  		        	<div id='spacePrompt'>
		  		        		<div id='spacePromptText'></div>
		  		        	</div>
		  		        	<div id='colorPicker'></div>
		  		      	</div>
		  		    </div>
				</div>
				
				<div id='ideas'>
	  				<div id='ideasWrapper'>
			            <table id='activeIdeas' class='tablesorter'>
			             	<thead>
			                	<tr>
			                  		<th class='ideas'>Your Ideas</th>
			                  		<!-- <th class='tags'>Tags</th> -->
			                  		<th class='flag'>Flag</th>
			                	</tr>
			              	</thead>
			              	<tbody>
			                
			              	</tbody>
			            </table>
	          			<div id='ideasEmpty' class='empty'>Your Idea Basket is empty.  Click 'Add New Idea' to start adding ideas.</div>
					</div>
		            <input id="addNew" type="button" value="Add New Idea +" />
	        	</div>
	  		 </div>
		</div>
	
		<div id='ideaDialog' style='display:none;'>
			<form class="cmxform" id="ideaForm" method="get" action="">
				<fieldset>
					<p><label for="text">Type your idea here*:</label></p>
					<p><textarea id="text" name="text" rows='2' class="required" minlength="2" maxlength="150"></textarea></p>
					<p style='height:24px; line-height:24px;'>
						<label for="source">Source*: </label>
						<select id="source" name="source" class="required" style='height:24px;'>
						  <option value="empty">Choose One:</option>
						  <option value="Evidence Step">Evidence Step</option>
						  <option value="Visualization or Model">Visualization or Model</option>
						  <option value="Movie/Video">Movie/Video</option>
						  <option value="Everyday Observation">Everyday Observation</option>
						  <option value="School or Teacher">School or Teacher</option>
						  <option value="Other">Other</option>
						</select>
					</p>
					<p id='otherSource'><label for="other">Please specify*: </label><input id='other' name='other' size='25' minlength='2' maxlength='25'></input></p>
					
					<p><label for="tags">Tags (keywords): </label><input id='tags' name='tags' size='20' maxlength='20'></input></p>
					<p>
						<label for="flag">Flag (choose one)*: </label>
						<input type="radio" name="flag" value="blank" class="required" checked='checked' style="margin-left:0;"></input><span style="vertical-align:top; line-height:20px;"> None</span>
						<input type="radio" name="flag" value="important"></input><img src='/vlewrapper/vle/images/ideaManager/important.png' alt='important' /><span style="vertical-align:top; line-height:20px;">Important</span>
						<input type="radio" name="flag" value="question"></input><img src='/vlewrapper/vle/images/ideaManager/question.png' alt='question' /><span style="vertical-align:top; line-height:20px;">Not Sure</span>
						<!-- <input type="radio" name="flag" value="check"></input><img src='./images/ideaManager/check.png' alt='check' /> -->
					</p>
				</fieldset>
			</form>
		</div>
		
		<div id='editDialog' style='display:none;'>
			<form class="cmxform" id="editForm" method="get" action="">
				<fieldset>
						<p><label for="editText">Type your idea here*:</label></p>
						<p><textarea id="editText" name="text" rows='2' class="required" minlength="2" maxlength="150"></textarea></p>
						<p style='height:24px; line-height:24px;'>
							<label for="editSource">Source*: </label>
							<select id="editSource" name="editSource" class="required" style='height:24px;'>
							  <option value="empty">Choose One:</option>
							  <option value="Evidence Step">Evidence Step</option>
							  <option value="Visualization or Model">Visualization or Model</option>
							  <option value="Movie/Video">Movie/Video</option>
							  <option value="Everyday Observation">Everyday Observation</option>
							  <option value="School or Teacher">School or Teacher</option>
							  <option value="Other">Other</option>
							</select>
						</p>
						<p id='editOtherSource'><label for="editOther">Please specify*: </label><input id='editOther' name='editOther' size='25' minlength='2' maxlength='25'></input></p>
						
						<p><label for="editTags">Tags (keywords): </label><input id='editTags' name='editTags' size='20' maxlength='20'></input></p>
						<p>
							<label for="editFlag">Flag (choose one)*: </label>
							<input type="radio" name="editFlag" value="blank" class="required" checked='checked' style="margin-left:0;"></input><span style="vertical-align:top; line-height:20px;"> None</span>
							<input type="radio" name="editFlag" value="important"></input><img src='/vlewrapper/vle/images/ideaManager/important.png' alt='important' /><span style="vertical-align:top; line-height:20px;">Important</span>
							<input type="radio" name="editFlag" value="question"></input><img src='/vlewrapper/vle/images/ideaManager/question.png' alt='question' /><span style="vertical-align:top; line-height:20px;">Not Sure</span>
							<!-- <input type="radio" name="editFlag" value="check"></input><img src='./images/ideaManager/check.png' alt='check' /> -->
						</p>
				</fieldset>
			</form>
		</div>
		
		<div id='deleteDialog' style='display:none; text-align:center;'>
			<div class='ui-state-highlight' style="padding:.5em;"><span class="ui-icon ui-icon-info" style="margin-right: .3em; float:left;"></span><span>Are you sure you want to delete this idea?</span></div>
			<div style="padding:.5em;">You can always retrieve it from the trash later on if you change your mind.</div>
		</div>
		
		<div id='deletedPopup' style='display:none;'>
			
		</div>
		
		<div id='notificationPopup' style='display:none;'>
			
		</div>
	</body>
</html>